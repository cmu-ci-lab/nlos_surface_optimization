rm *.so
CFLAGS="-I/usr/local/intel/mkl/include -I/usr/local/embree3/include -I/usr/local/embree3/common -I/usr/local/embree3/tutorials -I/usr/include/ -fPIC -fexceptions -Wall -Wextra -Wpedantic -g -std=c++11 -fdiagnostics-color=always -DTASKING_TBB -Wdouble-promotion -Wswitch-default -Wuninitialized -Wsuggest-attribute=pure -Wsuggest-attribute=const -Wsuggest-attribute=noreturn -Wsuggest-attribute=format -Wfloat-equal -Wtrampolines -Wundef -Wunsafe-loop-optimizations -Wtype-limits -Wcast-qual -Wcast-align -Wconversion -Wzero-as-null-pointer-constant -Wuseless-cast -Wlogical-op -Wmissing-declarations -Wopenmp-simd -Wpacked -Wpacked-bitfield-compat -Wredundant-decls -Wlong-long -Winvalid-pch -march=native -Ofast -fopenmp -pthread -pipe -flto -fuse-linker-plugin -fuse-ld=gold -fvisibility-inlines-hidden" \
LDFLAGS="-L/usr/local/embree3/build -L/usr/local/intel/mkl/lib/intel64 -Wl,--no-as-needed -lmkl_intel_ilp64 -lmkl_tbb_thread -lmkl_core -lmkl_avx2 -lmkl_def -lstdc++ -lpthread -lm -ldl -ltasking -ltbb -ltbbmalloc -lsys -m64 -DMKL_ILP64 -DTASKING_TBB" \
python setup.py build_ext -i
